# ç¯å¢ƒé…ç½®å’Œä½¿ç”¨æŒ‡å—

## ğŸ“‹ ç¯å¢ƒå‡†å¤‡

### 1. å®‰è£…ä¾èµ–

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /Users/ouyangfan/vibe-coding/icon-normalizer

# å®‰è£…ä¾èµ–
yarn install
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘ç¯å¢ƒå˜é‡æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„OpenAI APIå¯†é’¥
nano .env
```

åœ¨ `.env` æ–‡ä»¶ä¸­å¡«å…¥ï¼š
```
OPENAI_API_KEY=sk-your-openai-api-key-here
```

**è·å–OpenAI APIå¯†é’¥**:
1. è®¿é—® [OpenAI Platform](https://platform.openai.com/api-keys)
2. ç™»å½•ä½ çš„è´¦æˆ·
3. ç‚¹å‡» "Create new secret key"
4. å¤åˆ¶ç”Ÿæˆçš„å¯†é’¥

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### åŸºæœ¬ä½¿ç”¨

```bash
# ä½¿ç”¨ç¤ºä¾‹å›¾æ ‡è¿›è¡Œæµ‹è¯•
yarn run dev process ./sample-icons

# æˆ–è€…ä½¿ç”¨æ„å»ºåçš„ç‰ˆæœ¬
yarn run build
yarn run start process ./sample-icons
```

### è‡ªå®šä¹‰é€‰é¡¹

```bash
# æŒ‡å®šè¾“å‡ºç›®å½•
yarn run dev process ./sample-icons --output ./my-processed-icons

# è°ƒæ•´ç›¸ä¼¼åº¦é˜ˆå€¼
yarn run dev process ./sample-icons --threshold 0.9

# è·³è¿‡å¤‡ä»½
yarn run dev process ./sample-icons --no-backup

# è¯¦ç»†è¾“å‡º
yarn run dev process ./sample-icons --verbose

# é¢„è§ˆæ¨¡å¼ï¼ˆä¸ä¿®æ”¹æ–‡ä»¶ï¼‰
yarn run dev process ./sample-icons --dry-run
```

## ğŸ“ ç›®å½•ç»“æ„è¯´æ˜

### è¾“å…¥ç›®å½• (`./sample-icons/`)

```
sample-icons/
â”œâ”€â”€ arrow-right.svg          # ç®­å¤´å‘å³
â”œâ”€â”€ arrow-left.svg           # ç®­å¤´å‘å·¦
â”œâ”€â”€ home.svg                 # ä¸»é¡µ
â”œâ”€â”€ settings.svg             # è®¾ç½®
â”œâ”€â”€ user.svg                 # ç”¨æˆ·
â”œâ”€â”€ email.svg                # é‚®ä»¶
â”œâ”€â”€ search.svg               # æœç´¢
â”œâ”€â”€ heart.svg                # å¿ƒå½¢
â”œâ”€â”€ download.svg             # ä¸‹è½½
â”œâ”€â”€ arrow-right-copy.svg     # é‡å¤å›¾æ ‡1
â”œâ”€â”€ arrow-right-duplicate.svg # é‡å¤å›¾æ ‡2
â””â”€â”€ user-copy.svg            # ç”¨æˆ·é‡å¤å›¾æ ‡
```

### è¾“å‡ºç›®å½•ç»“æ„

å¤„ç†å®Œæˆåï¼Œè¾“å‡ºç›®å½•å°†åŒ…å«ï¼š

```
processed/                  # è¾“å‡ºæ ¹ç›®å½•
â”œâ”€â”€ backup/                  # åŸå§‹æ–‡ä»¶å¤‡ä»½
â”‚   â””â”€â”€ [timestamp]/
â”œâ”€â”€ duplicates/              # é‡å¤æ–‡ä»¶
â”‚   â”œâ”€â”€ arrow-right-copy.svg
â”‚   â”œâ”€â”€ arrow-right-duplicate.svg
â”‚   â””â”€â”€ user-copy.svg
â”œâ”€â”€ [category1]/             # åˆ†ç±»æ–‡ä»¶å¤¹
â”‚   â”œâ”€â”€ icon1.svg
â”‚   â””â”€â”€ icon2.svg
â”œâ”€â”€ [category2]/
â”‚   â””â”€â”€ icon3.svg
â””â”€â”€ duplicate-report.txt     # é‡å¤æ£€æµ‹æŠ¥å‘Š
```

## ğŸš€ å®Œæ•´ä½¿ç”¨ç¤ºä¾‹

### 1. å¤„ç†ä½ çš„å›¾æ ‡åº“

```bash
# å‡è®¾ä½ çš„å›¾æ ‡åœ¨ ./my-icons ç›®å½•
yarn run dev process ./my-icons \
  --output ./processed-icons \
  --threshold 0.8 \
  --backup \
  --verbose
```

### 2. æŸ¥çœ‹é…ç½®

```bash
yarn run dev config
```

### 3. é¢„è§ˆå¤„ç†ç»“æœ

```bash
# é¢„è§ˆæ¨¡å¼ä¸ä¼šä¿®æ”¹ä»»ä½•æ–‡ä»¶
yarn run dev process ./sample-icons --dry-run
```

## ğŸ“Š é¢„æœŸè¾“å‡ºç¤ºä¾‹

å¤„ç†å®Œæˆåï¼Œä½ å°†çœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„è¾“å‡ºï¼š

```
ğŸš€ Starting icon processing...
Input directory: ./sample-icons

âœ… Processing completed!

ğŸ“Š Results:
  Total icons: 11
  Processed icons: 11
  Duplicate groups: 2
  Processing time: 15.23s

ğŸ” Duplicates found:
  1. arrow-right.svg + 2 duplicates
  2. user.svg + 1 duplicate

ğŸ’¾ Processed icons saved to: ./processed
```

## ğŸ”§ æ•…éšœæ’é™¤

### 1. APIå¯†é’¥é—®é¢˜

**é”™è¯¯**: `âŒ OpenAI API key not found`

**è§£å†³**:
```bash
# æ£€æŸ¥ç¯å¢ƒå˜é‡
echo $OPENAI_API_KEY

# å¦‚æœä¸ºç©ºï¼Œé‡æ–°è®¾ç½®
export OPENAI_API_KEY=your_key_here
```

### 2. ç½‘ç»œè¿æ¥é—®é¢˜

**é”™è¯¯**: `âŒ Error: Failed to connect to OpenAI API`

**è§£å†³**:
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- ç¡®è®¤APIå¯†é’¥æœ‰æ•ˆ
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

### 3. æƒé™é—®é¢˜

**é”™è¯¯**: `âŒ Error: EACCES: permission denied`

**è§£å†³**:
```bash
# æ£€æŸ¥ç›®å½•æƒé™
ls -la ./sample-icons

# å¦‚æœéœ€è¦ï¼Œä¿®æ”¹æƒé™
chmod 755 ./sample-icons
```

### 4. å†…å­˜ä¸è¶³

**é”™è¯¯**: å¤„ç†å¤§é‡å›¾æ ‡æ—¶å†…å­˜ä¸è¶³

**è§£å†³**:
```bash
# å‡å°‘å¹¶å‘æ•°
yarn run dev process ./icons --concurrent 1

# åˆ†æ‰¹å¤„ç†
yarn run dev process ./icons/batch1
yarn run dev process ./icons/batch2
```

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

### 1. è°ƒæ•´ç›¸ä¼¼åº¦é˜ˆå€¼

```bash
# ä¸¥æ ¼æ¨¡å¼ï¼ˆåªæ£€æµ‹å®Œå…¨ç›¸åŒçš„æ–‡ä»¶ï¼‰
--threshold 1.0

# å®½æ¾æ¨¡å¼ï¼ˆæ£€æµ‹æ›´å¤šç›¸ä¼¼æ–‡ä»¶ï¼‰
--threshold 0.6
```

### 2. æ‰¹é‡å¤„ç†

```bash
# å¤„ç†å¤šä¸ªç›®å½•
for dir in ./icons/*; do
  if [ -d "$dir" ]; then
    yarn run dev process "$dir" --output "./processed/$(basename $dir)"
  fi
done
```

### 3. è‡ªåŠ¨åŒ–è„šæœ¬

åˆ›å»º `process-icons.sh`:

```bash
#!/bin/bash

# è®¾ç½®ç¯å¢ƒå˜é‡
export OPENAI_API_KEY="your_key_here"

# å¤„ç†å›¾æ ‡
yarn run dev process ./my-icons \
  --output ./processed \
  --threshold 0.8 \
  --backup \
  --verbose

# ç”ŸæˆæŠ¥å‘Š
echo "å¤„ç†å®Œæˆï¼æŠ¥å‘Šä½ç½®: ./processed/duplicate-report.txt"
```

## ğŸ¨ è‡ªå®šä¹‰åˆ†ç±»

å¦‚æœéœ€è¦æ·»åŠ æ–°çš„åˆ†ç±»ï¼Œç¼–è¾‘ `src/config/index.ts` æ–‡ä»¶ï¼š

```typescript
categories: {
  // ç°æœ‰åˆ†ç±»...
  'custom-category': ['custom-tag1', 'custom-tag2'],
}
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### 1. å¹¶å‘æ§åˆ¶

```bash
# æ ¹æ®ä½ çš„APIé™åˆ¶è°ƒæ•´å¹¶å‘æ•°
--concurrent 5  # å¿«é€Ÿä½†å¯èƒ½è§¦å‘APIé™åˆ¶
--concurrent 1  # æ…¢ä½†ç¨³å®š
```

### 2. å¢é‡å¤„ç†

```bash
# åªå¤„ç†æ–°æ–‡ä»¶
yarn run dev process ./new-icons --output ./processed
```

### 3. ç¼“å­˜æœºåˆ¶

é¡¹ç›®å·²å†…ç½®æ–‡ä»¶å“ˆå¸Œç¼“å­˜ï¼Œé¿å…é‡å¤å¤„ç†ç›¸åŒæ–‡ä»¶ã€‚

---

ç°åœ¨ä½ å·²ç»å‡†å¤‡å¥½ä½¿ç”¨ Icon Normalizer äº†ï¼å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–éœ€è¦å¸®åŠ©ï¼Œè¯·å‚è€ƒå¼€å‘æ‰‹å†Œæˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚